# AI와 대화하는 법

AI를 효과적으로 활용하려면 **어떻게 질문하는가**가 중요합니다.

## 1. 좋은 질문의 조건

### ❌ 나쁜 질문

```
"SQL 가르쳐줘"
"데이터 조회 좀 해줘"
"이거 왜 안돼?"
```

**문제점**: 너무 모호하고 컨텍스트가 없음

### ✅ 좋은 질문

```
"employees 테이블에서 2023년에 입사한 직원의
부서별 평균 급여를 조회하는 SQL을 작성하고,
각 부분이 무슨 의미인지 설명해줘.

테이블 구조:
- emp_id (직원ID)
- emp_name (이름)
- dept_id (부서ID)
- salary (급여)
- hire_date (입사일)"
```

**장점**: 명확한 목표, 테이블 구조 제공, 설명 요청

## 2. 컨텍스트 제공하기

AI에게 충분한 정보를 제공하면 더 정확한 답변을 받을 수 있습니다.

### 제공해야 할 정보

```
[질문 템플릿]

목표: [무엇을 하고 싶은지]

테이블 구조:
- 테이블명: [이름]
  - 컬럼1: [설명]
  - 컬럼2: [설명]
  ...

조건:
- [조건1]
- [조건2]

현재 시도한 것:
[시도한 쿼리가 있다면]

오류 메시지:
[오류가 발생했다면]
```

### 실제 예시

```
목표: 각 부서의 재직 중인 직원 수를 조회하고 싶습니다.

테이블 구조:
- employees 테이블
  - emp_id: 직원 ID
  - emp_name: 이름
  - dept_id: 부서 ID
  - resign_date: 퇴사일 (NULL이면 재직 중)

- departments 테이블
  - dept_id: 부서 ID
  - dept_name: 부서명

조건:
- 재직 중인 직원만 (resign_date가 NULL)
- 부서명을 함께 표시
- 인원이 많은 순서로 정렬

현재 시도한 것:
SELECT dept_id, COUNT(*)
FROM employees
WHERE resign_date IS NULL
GROUP BY dept_id;

위 쿼리는 작동하지만, 부서 이름이 표시되지 않습니다.
어떻게 개선할 수 있을까요?
```

## 3. 단계별 접근

복잡한 문제는 단계별로 나누어 질문하세요.

### 한 번에 모든 걸 요청 (❌)

```
"직원 데이터를 분석해서 부서별로 그룹화하고,
각 부서의 평균 급여, 최고 급여, 최저 급여를 구하고,
직급별로도 나누고, 재직 기간도 계산하고,
전년 대비 증감률도 보여줘"
```

### 단계별 질문 (✅)

```
1단계: "부서별 평균 급여를 조회하는 SQL 작성해줘"
   → 답변 확인 및 이해

2단계: "위 쿼리에 최고 급여와 최저 급여도 추가해줘"
   → 답변 확인 및 이해

3단계: "이제 직급별로도 세분화하고 싶어. 어떻게 수정해야 할까?"
   → 답변 확인 및 이해
```

## 4. 설명을 요청하기

코드만 받지 말고, **설명을 함께** 요청하세요.

### 설명 없이 (❌)

```
"부서별 직원 수 조회 SQL 작성해줘"

[AI 답변]
SELECT dept_id, COUNT(*)
FROM employees
GROUP BY dept_id;
```

### 설명 포함 (✅)

```
"부서별 직원 수 조회 SQL 작성하고,
각 부분이 무슨 의미인지 주석으로 설명해줘"

[AI 답변]
-- 부서 ID와 각 부서의 직원 수를 조회
SELECT
    dept_id,           -- 부서 ID
    COUNT(*) as cnt    -- 해당 부서의 직원 수
FROM employees         -- employees 테이블에서
GROUP BY dept_id;      -- dept_id 기준으로 그룹화
```

## 5. 반복적 개선

첫 답변이 완벽하지 않아도 괜찮습니다. 계속 개선하세요.

### 대화 예시

```
사용자: "직원 테이블에서 급여가 높은 상위 10명 조회해줘"

AI: [기본 쿼리 제공]

사용자: "좋아. 근데 부서명도 함께 보고 싶어"

AI: [JOIN 추가된 쿼리 제공]

사용자: "완벽해! 근데 퇴사자는 제외하고 싶어"

AI: [WHERE 조건 추가된 최종 쿼리 제공]
```

## 6. 오류 해결 시 질문하는 법

### 효과적인 오류 질문

```
"다음 SQL을 실행했는데 오류가 발생했어요.

[SQL 쿼리]
SELECT emp_name, dept_name
FROM employees
WHERE resign_date IS NULL;

[오류 메시지]
ERROR: column "dept_name" does not exist

테이블 구조:
employees 테이블:
- emp_id, emp_name, dept_id, resign_date

departments 테이블:
- dept_id, dept_name

어떻게 수정해야 할까요?"
```

AI가 확인할 정보:
- 실행한 쿼리 ✅
- 오류 메시지 ✅
- 테이블 구조 ✅
- 무엇을 하려고 했는지 (암시적) ✅

## 7. AI의 답변 검증하기

AI의 답변을 맹신하지 마세요. 항상 검증하세요.

### 검증 체크리스트

1. **로직 확인**
   - "이 쿼리가 내가 원하는 결과를 정확히 반환하나?"
   - "엣지 케이스(특수한 경우)는 고려되었나?"

2. **실행 테스트**
   - 실제 데이터베이스에서 실행해보기
   - 소량의 테스트 데이터로 먼저 확인

3. **결과 검증**
   - "이 결과가 합리적인가?"
   - "예상한 숫자와 비슷한가?"

4. **추가 질문**
   ```
   "이 쿼리가 10만 건의 데이터에서도 빠르게 작동할까?"
   "NULL 값이 있는 경우는 어떻게 처리되나?"
   "동명이인이 있으면 어떻게 되나?"
   ```

## 8. 학습을 위한 질문

단순히 답을 받는 게 아니라, **배우기 위해** 질문하세요.

### 학습 지향 질문

```
"이 두 쿼리의 차이점이 뭐야?"

[쿼리 1]
SELECT * FROM employees WHERE dept_id = 10;

[쿼리 2]
SELECT * FROM employees WHERE dept_id IN (10);

"성능이나 결과에 차이가 있나?"
```

```
"INNER JOIN과 LEFT JOIN을 언제 사용해야 하는지
실무 예시와 함께 설명해줘"
```

```
"GROUP BY와 DISTINCT의 차이점을 예제와 함께 설명해줘"
```

## 실습: 질문 개선하기

다음 나쁜 질문들을 좋은 질문으로 바꿔보세요.

### 연습 1
**나쁜 질문**: "SQL 오류 났어"

<details>
<summary>개선 예시 보기</summary>

**좋은 질문**:
```
다음 SQL 실행 시 오류가 발생했습니다.

[쿼리]
SELECT emp_name, AVG(salary)
FROM employees;

[오류]
ERROR: column "emp_name" must appear in GROUP BY clause

무엇이 문제이고 어떻게 수정해야 할까요?
```
</details>

### 연습 2
**나쁜 질문**: "데이터 조회 좀"

<details>
<summary>개선 예시 보기</summary>

**좋은 질문**:
```
employees 테이블에서 다음 조건을 만족하는 직원 목록을 조회하고 싶습니다:
- 인사팀 소속
- 2020년 이후 입사
- 급여 5백만원 이상

테이블 구조:
- emp_id, emp_name, dept_id, salary, hire_date

SQL을 작성하고 각 부분을 설명해주세요.
```
</details>

## 핵심 요약

✅ **명확하게**: 무엇을 원하는지 구체적으로
✅ **컨텍스트**: 테이블 구조, 조건 등 충분한 정보 제공
✅ **단계별**: 복잡한 문제는 나누어서
✅ **설명 요청**: 코드만이 아니라 이해를 위한 설명도
✅ **반복 개선**: 첫 답변을 계속 다듬기
✅ **검증**: AI의 답변을 맹신하지 않기

## 다음 단계

AI와 대화하는 기본을 익혔다면, 이제 다양한 질문 예시를 살펴봅시다!

👉 **[질문 예시로 이동](./질문-예시.md)**
