# 프롬프트 작성 팁

효과적인 프롬프트는 명확하고, 구체적이며, 구조화되어 있습니다.

## 1. 명확한 목표 설정

### Before (❌)
```
"데이터 좀 봐줘"
```

### After (✅)
```
"employees 테이블에서 2023년에 입사한 직원 중
급여가 5백만원 이상인 직원의 이름, 부서, 급여를 조회하고 싶어"
```

**차이점**: 정확히 무엇을 원하는지 명시

## 2. 구조화된 정보 제공

### 템플릿

```markdown
## 목표
[무엇을 하고 싶은지]

## 테이블 구조
- 테이블1:
  - 컬럼1: 설명
  - 컬럼2: 설명
- 테이블2:
  - ...

## 조건
- 조건1
- 조건2

## 예상 결과
[어떤 형태의 결과를 원하는지]
```

### 실제 예시

```markdown
## 목표
부서별 재직자 수와 평균 급여를 조회하고 싶습니다.

## 테이블 구조
- employees:
  - emp_id: 직원ID (숫자)
  - emp_name: 이름 (문자)
  - dept_id: 부서ID (숫자)
  - salary: 급여 (숫자)
  - resign_date: 퇴사일 (날짜, NULL이면 재직중)

- departments:
  - dept_id: 부서ID (숫자)
  - dept_name: 부서명 (문자)

## 조건
- 재직 중인 직원만 (resign_date IS NULL)
- 부서명을 함께 표시
- 인원 수가 많은 순으로 정렬

## 예상 결과
부서명 | 재직자수 | 평균급여
-------|---------|----------
개발팀 | 45      | 7200000
인사팀 | 15      | 5500000
...
```

## 3. 반복적 대화 전략

복잡한 문제는 여러 번에 나누어 해결하세요.

### 1차 질문: 기본 틀
```
"employees 테이블에서 부서별 인원 수를 조회하는 SQL을 작성해줘"
```

### 2차 질문: 조건 추가
```
"좋아! 이제 재직 중인 직원만 카운트하도록 수정해줘 (resign_date IS NULL)"
```

### 3차 질문: JOIN 추가
```
"완벽해. 이제 dept_id 대신 부서명을 표시하고 싶어.
departments 테이블을 JOIN해줘"
```

### 4차 질문: 정렬 및 필터
```
"마지막으로 인원이 10명 이상인 부서만 보고,
인원 수가 많은 순으로 정렬해줘"
```

## 4. 오류 해결 프롬프트

### 효과적인 오류 보고

```markdown
## 상황
[무엇을 하려고 했는지]

## 실행한 쿼리
```sql
[쿼리]
```

## 오류 메시지
```
[정확한 오류 메시지 복사]
```

## 테이블 구조
[관련 테이블 정보]

## 질문
이 오류의 원인과 해결 방법을 알려주세요.
```

## 5. 학습을 위한 프롬프트

### 설명 요청

```
"다음 쿼리를 초보자도 이해할 수 있게 단계별로 설명해줘.
각 절(clause)이 무슨 역할을 하는지 주석으로 달아줘.

[쿼리]"
```

### 비교 학습

```
"INNER JOIN과 LEFT JOIN의 차이를 설명해줘.
간단한 예제 데이터와 함께 결과가 어떻게 다른지 보여줘."
```

### 개념 이해

```
"GROUP BY와 HAVING의 차이를 실무 예시와 함께 설명해줘.
언제 어떤 걸 사용해야 하는지도 알려줘."
```

## 6. 맥락 유지하기

대화의 맥락을 유지하면 더 정확한 답변을 받습니다.

### Before (❌)
```
[새로운 대화 시작]
"이 쿼리 수정해줘"
[쿼리만 붙여넣기]
```

### After (✅)
```
[이전 대화 이어서]
"조금 전에 작성한 부서별 인원 수 쿼리에
급여 평균도 추가하고 싶어"
```

## 7. 검증 요청

AI의 답변을 검증하도록 요청하세요.

```
"이 쿼리가 다음 상황에서도 제대로 작동할까?
- 직원이 0명인 부서
- NULL 값이 있는 경우
- 데이터가 100만 건일 때 성능"
```

## 8. 실무 시나리오 기반 질문

### 상황 설명 + 요구사항

```
## 상황
우리 회사는 프로젝트 기반으로 운영되고,
한 직원이 여러 프로젝트에 참여할 수 있습니다.

## 요구사항
현재 진행 중인 프로젝트에 참여하는 직원 중,
2개 이상의 프로젝트를 동시에 맡고 있는 직원의
이름, 부서, 담당 프로젝트 수를 조회하고 싶습니다.

## 테이블
- employees: emp_id, emp_name, dept_id
- departments: dept_id, dept_name
- projects: project_id, project_name, end_date
- project_assignments: project_id, emp_id

현재 진행 중 = end_date >= CURRENT_DATE

SQL을 작성하고 설명해주세요.
```

## 9. 프롬프트 체크리스트

질문하기 전에 확인하세요:

- [ ] 목표가 명확한가?
- [ ] 테이블 구조를 제공했는가?
- [ ] 조건을 구체적으로 명시했는가?
- [ ] 오류가 있다면 정확한 메시지를 포함했는가?
- [ ] 예상 결과를 설명했는가?
- [ ] 설명을 요청했는가? (학습 목적이라면)

## 10. 실전 예시 모음

### 예시 1: 신규 기능 개발

```
## 배경
인사팀에서 매월 부서별 인건비 보고서를 만들고 있습니다.

## 요구사항
특정 월(예: 2024년 3월)의 부서별 인건비 총액을 조회하고 싶습니다.
단, 해당 월에 재직했던 직원만 포함하고,
중간에 입사하거나 퇴사한 경우도 고려해야 합니다.

## 테이블
- employees: emp_id, emp_name, dept_id, salary, hire_date, resign_date
- departments: dept_id, dept_name

## 조건
- 2024년 3월 중 하루라도 재직한 직원 포함
- 부서별로 GROUP BY
- 인건비 총액 = SUM(salary)

## 질문
이를 구현하는 SQL을 작성하고,
복잡한 부분은 단계별로 설명해주세요.
```

### 예시 2: 데이터 품질 검사

```
## 목표
데이터 정합성 문제를 찾고 싶습니다.

## 체크 항목
1. 부서 ID가 있지만 departments 테이블에 존재하지 않는 직원
2. 퇴사일이 입사일보다 빠른 직원
3. 급여가 0이거나 NULL인 직원
4. 필수 컬럼(emp_name, hire_date)이 NULL인 직원

## 테이블
- employees: emp_id, emp_name, dept_id, salary, hire_date, resign_date
- departments: dept_id, dept_name

## 요청
각 체크 항목에 대한 SQL을 작성하고,
하나의 쿼리로 통합할 수 있다면 그 방법도 알려주세요.
```

## 핵심 요약

✅ **명확성**: 정확히 무엇을 원하는지
✅ **구체성**: 테이블, 조건, 예상 결과 명시
✅ **구조화**: 정보를 체계적으로 제공
✅ **단계적**: 복잡한 문제는 나누어서
✅ **검증**: AI의 답변을 검증하도록 요청

## 다음 단계

AI 활용 방법을 익혔다면, 이제 실제 업무 사례로 연습해봅시다!

👉 **[실제 사례로 이동](../04-Real-Cases/)**
